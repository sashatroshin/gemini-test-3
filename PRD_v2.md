# Требования к продукту (PRD) v2: Миграция на Tailwind CSS и улучшение UI

## 1. Введение

**Проблема:** Текущая версия приложения использует Pico.css. В то время как Pico.css хорош для быстрого прототипирования, он предлагает ограниченные возможности для кастомизации. Для дальнейшего развития и улучшения пользовательского интерфейса (UI) требуется более гибкий и мощный инструмент.

**Цель:** Мигрировать проект с Pico.css на Tailwind CSS. Это позволит создать более кастомный и профессиональный дизайн, а также упростит поддержку и расширение стилей в будущем. Одновременно будут реализованы запланированные улучшения в UI.

**Ключевые цели миграции:**
- **Гибкость:** Получить полный контроль над внешним видом каждого элемента.
- **Современный UI:** Реализовать новый дизайн, включая глобальный хедер и улучшенную сводку.
- **Масштабируемость:** Упростить добавление новых UI-компонентов в будущем.

## 2. Требования к миграции на Tailwind CSS

### 2.1. Настройка Tailwind CSS

- **Установка:** Tailwind CSS должен быть установлен и настроен в проекте.
- **Конфигурация:** Создать файл `tailwind.config.js` с базовой конфигурацией.
- **Сборка:** Настроить процесс сборки CSS, который будет компилировать утилитарные классы Tailwind в один выходной файл `css/style.css`. Для этого можно использовать `npm scripts` и `npx tailwindcss`.

### 2.2. Обновление HTML-разметки

- **Классы:** Все существующие HTML-элементы в `index.html` должны быть обновлены для использования утилитарных классов Tailwind вместо семантических тегов и классов Pico.css.
- **Структура:** Структура HTML должна быть сохранена, но может быть незначительно изменена для лучшей совместимости с Tailwind (например, добавление `div`-оберток для флекс-контейнеров).
- **Удаление Pico.css:** Ссылка на CDN Pico.css должна быть удалена из `index.html`.

### 2.3. Сохранение функциональности

- Вся существующая функциональность, включая динамическое добавление расходов, расчеты в реальном времени и отправку вебхуков, должна работать без изменений.
- Миграция должна затронуть только визуальную часть приложения.

## 3. Новые функциональные требования (UI)

Эти требования взяты из `next.md` и должны быть реализованы с использованием Tailwind CSS.

### 3.1. Глобальный Хедер

- **Описание:** Вверху страницы должен быть добавлен "липкий" (sticky) хедер.
- **Компоненты:**
    - **Слева:** Название приложения — "BarBalance".
    - **Справа:** Название заведения, загружаемое из `config.json` (параметр `barName`).
- **Стилизация:** Хедер должен быть стилизован с помощью классов Tailwind CSS для достижения современного вида, как в макете.

### 3.2. Бизнес-дата в сводке

- **Описание:** В блок "Сводка за смену" добавить отображение текущей бизнес-даты.
- **Расположение:** Дата должна быть расположена вверху блока сводки.
- **Стилизация:** Использовать классы Tailwind для форматирования текста.

## 4. Обновления в конфигурации

### 4.1. `package.json`

- В проекте должен быть создан файл `package.json` для управления зависимостями (в первую очередь, `tailwindcss`) и для определения `npm scripts` для сборки CSS.

**Пример `package.json`:**
```json
{
  "name": "bar-balance-report",
  "version": "2.0.0",
  "scripts": {
    "build:css": "npx tailwindcss -i ./css/input.css -o ./css/style.css --watch"
  },
  "devDependencies": {
    "tailwindcss": "^3.0.0"
  }
}
```

### 4.2. `config.json`

- Убедиться, что в `config.json` присутствует ключ `barName`.

**Пример `config.json`:**
```json
{
  "barName": "Taqueria",
  "webhookUrl": "URL_вашего_вебхука_в_n8n",
  "businessDate": {
    "changeTime": "09:00",
    "timezone": "Asia/Irkutsk"
  },
  // ... остальные параметры
}
```

## 5. Нефункциональные требования

- **Производительность:** Размер итогового CSS-файла должен быть оптимизирован с помощью `purge` в конфигурации Tailwind, чтобы включать только используемые классы.
- **Кроссбраузерность:** Приложение должно корректно отображаться в последних версиях современных браузеров (Chrome, Firefox, Safari).

## 6. Что не является целью (Out of Scope)

- Изменение существующей логики на JavaScript.
- Добавление новых полей для ввода данных, кроме тех, что указаны в требованиях.
- Рефакторинг `app.js`.
